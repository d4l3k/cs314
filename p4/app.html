<head>
  <title>CS314 P4 Project</title>
  <link rel="stylesheet" href="css/app.css">
  <script id="waterVertexShader" type="x-vertex-shader">
    varying vec3 world_position;

    void main()
    {
      world_position = position;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  </script>
  <script id="waterFragmentShader" type="x-fragment-shader">
    varying vec3 world_position;

    uniform float time;
    uniform vec3 diffuse;
    uniform vec3 specular;
    // Distance cutoff where waves start appearing.
    uniform float waveThreshold;

    #define TIME_SCALE 1000.0
    #define WAVE_SCALE 0.5

    void main()
    {
      float timeFactor = time/TIME_SCALE;
      // Distance from the origin.
      float dist = sqrt(pow(world_position.x, 2.0) + pow(world_position.y, 2.0));
      float waveFactor = 0.0; // Amount of specular wave highlight to show.
      if (dist <= waveThreshold) {
        waveFactor = sin(WAVE_SCALE * (timeFactor + dist));
      }
      gl_FragColor = vec4(mix(diffuse, specular, pow(waveFactor, 2.0)), 0.5);
    }
  </script>
</head>
<body>
  <div id="overlay" class="panel">
    Items
    <table>
      <td>Turret</td>
      <td>Wall</td>
    </table>
    <div>
      $<span id="money">0</span>,
      <span id="score">0</span> points
    </div>
  </div>

  <script src="bower_components/three.js/build/three.min.js"></script>
  <script src="bower_components/threex.windowresize/threex.windowresize.js"></script>
  <script src="bower_components/threex.daynight/threex.daynight.js"></script>
  <script src="bower_components/three.js/examples/js/shaders/CopyShader.js"></script>
  <script src="bower_components/three.js/examples/js/shaders/ConvolutionShader.js"></script>
  <script src="bower_components/three.js/examples/js/postprocessing/EffectComposer.js"></script>
  <script src="bower_components/three.js/examples/js/postprocessing/RenderPass.js"></script>
  <script src="bower_components/three.js/examples/js/postprocessing/BloomPass.js"></script>
  <script src="bower_components/three.js/examples/js/postprocessing/MaskPass.js"></script>
  <script src="bower_components/three.js/examples/js/postprocessing/ShaderPass.js"></script>
  <script src="js/app.js"></script>
</body>
